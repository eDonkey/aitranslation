{% extends "public_base.html" %}

{% block title %}Enterprise Translation Solutions{% endblock %}

{% block content %}
<section class="hero">
    <h1>Enterprise Translation Solutions</h1>
    <p>Professional translation services powered by AI and human expertise for businesses that demand excellence</p>
</section>

<section class="trial-section">
    <h2 class="section-title">Try Our AI Translation for Free!</h2>
    <div class="trial-card">
        <form id="trialTranslationForm">
            <div class="form-group">
                <label for="trialSourceText">Text to Translate</label>
                <textarea class="form-control" id="trialSourceText" rows="4" required></textarea>
            </div>
            <div class="form-group">
                <label for="trialSourceLanguage">Source Language</label>
                <select class="form-control" id="trialSourceLanguage" required>
                    <option value="english">English</option>
                    <option value="spanish">Spanish</option>
                    <option value="portuguese">Portuguese</option>
                    <option value="french">French</option>
                    <option value="deutch">German</option>
                    <option value="italian">Italian</option>
                </select>
            </div>
            <button type="submit" class="cta-button">Try Free Translation</button>
        </form>
    </div>
</section>

<section class="features">
    <h2 class="section-title">Why Choose Our Platform?</h2>
    <div class="features-grid">
        <div class="feature-card">
            <h3>Multi-Language Support</h3>
            <p>Support for 6 major languages with more coming soon:</p>
            <div class="languages">
                <span class="language-tag">English</span>
                <span class="language-tag">Spanish</span>
                <span class="language-tag">Portuguese</span>
                <span class="language-tag">French</span>
                <span class="language-tag">German</span>
                <span class="language-tag">Italian</span>
            </div>
        </div>
        <div class="feature-card">
            <h3>API Integration</h3>
            <p>Seamlessly integrate our translation services into your workflow with our robust API</p>
        </div>
        <div class="feature-card">
            <h3>Enterprise Security</h3>
            <p>Secure API key management and access control for your sensitive content</p>
        </div>
    </div>
</section>

<section class="services">
    <h2 class="section-title">Our Services</h2>
    <div class="service-comparison">
        <div class="service-card">
            <h3>AI-Powered Translation</h3>
            <p>Instant translations powered by advanced AI technology</p>
            <ul style="list-style: none; margin: 1rem 0;">
                <li>✓ Instant delivery</li>
                <li>✓ Cost-effective</li>
                <li>✓ 24/7 availability</li>
                <li>✓ Ideal for high-volume content</li>
            </ul>
            <a href="/client" class="cta-button">Get Started</a>
        </div>
        <div class="service-card highlighted">
            <h3>Human Translation</h3>
            <p>Expert translators for your most important content</p>
            <ul style="list-style: none; margin: 1rem 0;">
                <li>✓ Superior accuracy</li>
                <li>✓ Cultural adaptation</li>
                <li>✓ Context-aware translations</li>
                <li>✓ Perfect for legal & marketing content</li>
            </ul>
            <a href="/client" class="cta-button">Contact Sales</a>
        </div>
    </div>
</section>

<script>
    $(document).ready(function() {
        $('#trialTranslationForm').on('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData();
            formData.append('text', $('#trialSourceText').val());
            formData.append('language', $('#trialSourceLanguage').val());
            
            $.ajax({
                url: '/translate-text/',
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                headers: {
                    'X-API-Key': 'test-api-key-123'
                },
                success: function(response) {
                    let translationsHtml = '<div class="translations-grid">';
                    
                    // Add original text
                    translationsHtml += `
                        <div class="translation-item">
                            <h6 class="font-weight-bold">Original (${$('#trialSourceLanguage').val()})</h6>
                            <p>${$('#trialSourceText').val()}</p>
                        </div>
                    `;
                    
                    // Add translations
                    Object.entries(response.translations).forEach(([lang, text]) => {
                        if (lang !== $('#trialSourceLanguage').val()) {
                            translationsHtml += `
                                <div class="translation-item">
                                    <h6 class="font-weight-bold">${lang.charAt(0).toUpperCase() + lang.slice(1)}</h6>
                                    <p>${text}</p>
                                </div>
                            `;
                        }
                    });
                    
                    translationsHtml += '</div>';
                    
                    Swal.fire({
                        title: 'Translation Complete!',
                        html: translationsHtml,
                        icon: 'success',
                        width: '800px'
                    });
                    
                    // Clear the form
                    $('#trialSourceText').val('');
                    $('#trialSourceLanguage').val('english');
                },
                error: function(xhr) {
                    Swal.fire({
                        title: 'Error!',
                        text: xhr.responseJSON?.detail || 'Error with trial translation',
                        icon: 'error'
                    });
                }
            });
        });
    });
</script>
{% endblock %}
